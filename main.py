((b:=[[],[]])and(i:=0)or(s:='')or(p:=0))or all((not(print(''.join(["-OX"[(k in b[0])+2*(k in b[1])] if k%4!=3 else '\n' for k in range(12)]))or any([all([j in b[i%2] for j in L])for L in[range(p//4,p//4+3),[p%4,p%4+4,p%4+8],[0,5,10],[2,5,8]]])and(print(s,"has won")or 1)or(i>8 and(print("Draw!")or 1))or print("It is",(s:="OX"[(i:=i+1)%2])+"'s turn")or((any((not((p:=input("Enter position (1-9) "))and 0 or not p.isdigit()or(p:=int(p)+(int(p)-1)//3-1)*0 or p<0 or p>10 or (p in b[1] or p in b[0])and(print("That space is taken")or 1))for _ in '_'*9**9)))*0) or b[i%2].append(p))for _ in '_'*10))
 
